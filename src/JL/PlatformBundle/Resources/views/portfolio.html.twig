{# src/JL/PlatformBundle/Resources/views/portfolio.html.twig #}

{% extends "::base.html.twig" %}

{% block title %}
    {{ parent() }} - Accueil
{% endblock title %}

{% block bsFile %}
    {{ parent() }}
    <link href="{{ asset('assets/css/nivo-slider.css') }}" rel="stylesheet">
{% endblock bsFile %}

{% block contentBody %}
    <div class="container">
        <div class="row mb-1">
            <div class="col-lg-12">
                <h4 style="float: left;">
                    <i class="fa fa-briefcase" aria-hidden="true"></i><strong id="title-page"></strong>
                    <em class="text-muted" style="font-size: 0.6em;">Mes réalisations</em>
                </h4>
            </div>
        </div>
        {% if allRealisation|length > 0 %}
            {% set nbRealisation = 0 %}
            {% for realisation in allRealisation %}
                {% if nbRealisation == 0 %}
                    <div class="row">
                {% endif %}
                        <article class="col-xs-3 work">
                            <div class="row" style="min-height: 150px;">
                                <img src="{{ realisation.urlImage }}" width="250" height="150" class="d-inline-block align-top img-thumbnail" alt="">
                            </div>
                            <div class="row" style="padding-left: 5px;">
                                <h6 style="padding-top: 5px;"><strong>{{ realisation.projetName }}</strong></h6>
                                <em class="text-muted">{{ realisation.shortDescription }}</em>
                            </div>

                            <div class="work_detail">
                                <hr class="separator-row">
                                <div class="col-xs-8">
                                    <div class="work_slideshow stagger4">
                                        {% for image in realisation.projectImages %}
                                            <img src="{{ image.urlImage }}" class="d-inline-block align-top image-slide" alt="">
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="col-xs-4">
                                    <h2 class="stagger1">{{ realisation.projetName }}</h2>
                                    <p class="stagger2"><em>{{ realisation.shortDescription }}</em></p>
                                    <p class="stagger3">{{ realisation.description }}</p>
                                </div>
                                <hr class="separator-row">
                            </div>
                        </article>
                        {% set nbRealisation = nbRealisation + 1 %}
                {% if nbRealisation == 4 or nbRealisation == allRealisation|length %}
                    </div>
                    <div class="row row-detail"></div>
                {% endif %}
            {% endfor %}
        {% else %}
            <div class="alert alert-info" role="alert">
                <strong>Ooops</strong> Je n'ai aucune réalisation à afficher pour le moment, mais je vais en ajouter prochainement !
            </div>
        {% endif %}
    </div>
    <hr class="separator-footer">
    {{ include('@JLPlatform/footer.html.twig') }}
{% endblock contentBody %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="{{ asset('assets/js/jquery.nivo.slider.pack.js') }}"></script>
    <script src="{{ asset('assets/js/portfolio.js') }}"></script>

    <script type="text/javascript">
        $(function(){
            var str1 = " Mon portfolio";

            var showText = function( target, message, index, interval ){
                if ( index < message.length ){
                    $( target ).append( message[ index++ ] );

                    setTimeout( function(){
                        showText( target, message, index, interval);
                    }, interval);
                }
            };

            showText("#title-page", str1, 0, 100);
        });
    </script>
{% endblock javascripts %}
